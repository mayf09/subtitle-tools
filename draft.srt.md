# 字幕草稿文件

文件后缀 `.draft.srt`

## 目标

提供一个支持人工断句（使用 `|`）的字幕格式，程序可以根据标记重新生成字幕。

## 文本格式

1. 基于 srt 文本格式

2. 对 text 部分有以下规定

   * 相对于 srt 文本格式， **不支持** 多行字幕，中、英文字幕中都不能包含 `\n`

   * 第一行时间标记

     - 按空字符拆分长度与单词数相同
     - 使用 `start,end` 格式表示与本行起始时间的相对毫秒数

   * 第二行英文字幕（可为空）

     - 使用 `|` 标记断句

     - 使用 `{word1,word2}` 标记单词拆分
     - 使用 `{word - - -}` 标记单词组合
     - 使用 `{}` 标记空格
     - 使用 `{ - -}` 标记多个空格
     - 使用 `{word1,word2 - -}` 标记单词合并，并拆分

     - 可以在 `|` `{` `}` 前加反引号，表示原字符，比如 `\|` `\{` `\}`

     - 如果本行字幕为空，则整条字幕被忽略

   * 第三行中文字幕（可为空）
     - 英文字幕为空时，本行字幕 **必须** 为空
     - 文字中的 `|` 与英文字幕中的 `|` 个数相同
